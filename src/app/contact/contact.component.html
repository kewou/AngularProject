<section id="contact" class="contact">
    <div class="contact__container">
        <!-- Titre -->
        <header class="contact__header">
            <h1>Contactez-nous</h1>
        </header>

        <div class="contact__grid">
            <!-- ====== Formulaire ====== -->
            <article class="contact-card">
                <h2 class="contact-card__title">Envoyer un message</h2>

                <form
                        *ngIf="!isMessageSent"
                        (ngSubmit)="sendContactMessage()"
                        #contactForm="ngForm"
                        name="contactForm"
                        class="contact-form"
                        id="contactForm"
                        novalidate
                        aria-label="Formulaire de contact"
                >
                    <!-- Nom -->
                    <mat-form-field appearance="outline" class="w-full">
                        <mat-label>Nom complet</mat-label>
                        <input
                                matInput
                                id="name"
                                type="text"
                                placeholder="Votre nom et pr√©nom"
                                [(ngModel)]="message.senderName"
                                name="senderName"
                                #senderName="ngModel"
                                required
                                maxlength="50"
                                aria-required="true"
                        />
                        <mat-hint align="start">Max. 50 caract√®res</mat-hint>
                        <mat-error *ngIf="senderName.invalid && senderName.touched">Le nom est obligatoire.</mat-error>
                    </mat-form-field>

                    <!-- Email -->
                    <mat-form-field appearance="outline" class="w-full">
                        <mat-label>Adresse email</mat-label>
                        <input
                                matInput
                                id="email"
                                type="email"
                                placeholder="name@example.com"
                                [(ngModel)]="message.senderMail"
                                name="senderMail"
                                #senderMail="ngModel"
                                required
                                email
                                aria-required="true"
                        />
                        <mat-error *ngIf="senderMail.errors?.['required'] && senderMail.touched">
                            L'email est obligatoire.
                        </mat-error>
                        <mat-error *ngIf="senderMail.errors?.['email'] && senderMail.touched">
                            L'email doit √™tre valide.
                        </mat-error>
                    </mat-form-field>

                    <!-- Message -->
                    <mat-form-field appearance="outline" class="w-full">
                        <mat-label>Message</mat-label>
                        <textarea
                                matInput
                                id="message"
                                placeholder="Votre message"
                                rows="6"
                                [(ngModel)]="message.senderMessage"
                                name="senderMessage"
                                #senderMessage="ngModel"
                                required
                                minlength="10"
                                maxlength="5000"
                                aria-required="true"
                        ></textarea>
                        <mat-hint align="start">Min. 10 caract√®res</mat-hint>
                        <mat-error *ngIf="senderMessage.errors?.['required'] && senderMessage.touched">
                            Le message est obligatoire.
                        </mat-error>
                        <mat-error *ngIf="senderMessage.errors?.['minlength'] && senderMessage.touched">
                            Le message doit contenir au moins 10 caract√®res.
                        </mat-error>
                    </mat-form-field>

                    <!-- Erreurs globales -->
                    <div class="form-errors" *ngIf="errorMessages?.length">
                        <ul>
                            <li *ngFor="let error of errorMessages">{{ error }}</li>
                        </ul>
                    </div>

                    <!-- Submit -->
                    <button
                            mat-raised-button
                            color="primary"
                            class="btn-primary"
                            type="submit"
                            [disabled]="!contactForm.form.valid"
                            aria-label="Envoyer le message"
                    >
                        Envoyer
                    </button>
                </form>

                <!-- Message de confirmation -->
                <div class="contact-success" *ngIf="isMessageSent" role="status" aria-live="polite">
                    <h3>Message envoy√© ‚úÖ</h3>
                    <p>Merci ! Votre message a bien √©t√© transmis. Nous revenons vers vous rapidement.</p>
                </div>
            </article>

            <!-- ====== Infos de contact ====== -->
            <aside class="contact-card contact-info">
                <h2 class="contact-card__title">Infos & support</h2>

                <ul class="info-list">
                    <li>
                        <span class="info-emoji" aria-hidden="true">üìß</span>
                        <div>
                            <strong>Support</strong>
                            <p>√âcrivez-nous via le formulaire ci-contre.</p>
                        </div>
                    </li>
                    <li>
                        <span class="info-emoji" aria-hidden="true">üìç</span>
                        <div>
                            <strong>Nous situer</strong>
                            <p>Paris, France</p>
                        </div>
                    </li>
                    <li>
                        <span class="info-emoji" aria-hidden="true">üïí</span>
                        <div>
                            <strong>Horaires</strong>
                            <p>Lun ‚Üí Ven, 9h ‚Äì 18h (CET)</p>
                        </div>
                    </li>
                </ul>

                <div class="tips">
                    <h3>Conseils pour une r√©ponse rapide</h3>
                    <ul>
                        <li>D√©crivez votre besoin en quelques phrases.</li>
                        <li>Indiquez, si possible, votre navigateur / page concern√©e.</li>
                        <li>Ajoutez des captures d‚Äô√©cran en cas d‚Äôerreur.</li>
                    </ul>
                    <div class="divider-custom">
                        <div class="divider-custom-line"></div>
                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                        <div class="divider-custom-line"></div>
                    </div>
                </div>
            </aside>
        </div>
    </div>
</section>
